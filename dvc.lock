schema: '2.0'
stages:
  fetch_data:
    cmd: ./src/fetch_data.sh
    outs:
    - path: data/sample_submission.csv
      md5: e07af9cfb75c09d368437c2c1c7900e9
      size: 22746
    - path: data/test.csv
      md5: ff248529f207ea164d73636e5b1b251d
      size: 420783
    - path: data/train.csv
      md5: f147942c91d00d754503775341d13682
      size: 987712
  prepare_data:
    cmd: python src/prepare.py
    deps:
    - path: data/raw/train.csv
      md5: f147942c91d00d754503775341d13682
      size: 987712
    - path: src/prepare.py
      md5: 97d74b18db4023f481ee02a35f9bc2cd
      size: 1731
    outs:
    - path: data/prepared/labels.json
      md5: 9b82a809810ad0411147c95d06a5c946
      size: 22869
    - path: data/prepared/texts.json
      md5: 3db9c8304cd0e9702a9b83add0d9a19d
      size: 707410
    - path: data/prepared/vectorizer.joblib
      md5: 535eb1038e7cc5e8f37548420514c3b2
      size: 165905
  train@LogisticRegression:
    cmd: python src/train.py --model-name=LogisticRegression
    deps:
    - path: data/prepared/labels.json
      md5: 9b82a809810ad0411147c95d06a5c946
      size: 22869
    - path: data/prepared/texts.json
      md5: 3db9c8304cd0e9702a9b83add0d9a19d
      size: 707410
    - path: data/prepared/vectorizer.joblib
      md5: 535eb1038e7cc5e8f37548420514c3b2
      size: 165905
    - path: src/train.py
      md5: 85330c57da90c3a769acc31e9af84f36
      size: 1410
    outs:
    - path: models/LogisticRegression.joblib
      md5: 5a85a7777f7c754dcc94a021ef134779
      size: 101749
    - path: models/LogisticRegression_train_metrics.json
      md5: 99bd22a94711719503193f7a08b4f4b5
      size: 32
  predict@LogisticRegression:
    cmd: python src/predict.py
    deps:
    - path: data/raw/test.csv
      md5: ff248529f207ea164d73636e5b1b251d
      size: 420783
    - path: models/LogisticRegression.joblib
      md5: 5a85a7777f7c754dcc94a021ef134779
      size: 101749
    - path: src/predict.py
      md5: b564ad9b22b68f9f872ac8a18d2589e1
      size: 611
    outs:
    - path: data/predictions/LogisticRegression_prediction.csv
      md5: d41d8cd98f00b204e9800998ecf8427e
      size: 0
  test@LogisticRegression:
    cmd: python src/test.py
    deps:
    - path: models/LogisticRegression.joblib
      md5: 5a85a7777f7c754dcc94a021ef134779
      size: 101749
    - path: src/test.py
      md5: 2acffa58ba262b60784e1576b212253d
      size: 1227
    outs:
    - path: models/LogisticRegression_test_metrics.json
      md5: 69e69a752c510c4a1f90e92328986c6a
      size: 32
