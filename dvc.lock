schema: '2.0'
stages:
  train@0:
    cmd: python src/train.py --model-class=SKLogisticRegression --preprocessor=SKCountVectorizer
    deps:
    - path: data/prepared/SKCountVectorizer/labels.json
      md5: 76e06f8528ff37525b0f13d4dc8d6d0e
      size: 22860
    - path: data/prepared/SKCountVectorizer/preproc.joblib
      md5: af69aa9d054128f50599d104c75be585
      size: 172553
    - path: data/prepared/SKCountVectorizer/texts.json
      md5: 1586b0b6d61168464daaee5cfded5390
      size: 538737
    - path: src/dataset.py
      md5: ec07c88410f06d9854f74744b77490be
      size: 2511
    - path: src/models/SKLogisticRegression.py
      md5: 1c3136cc465f20d39cc941cd6e6c048e
      size: 1536
    - path: src/models/abstract.py
      md5: 3d20ff5e49da1beed2359a868d5cb97f
      size: 1327
    - path: src/train.py
      md5: 0e32c00d43e76b1b2892253e458a9c53
      size: 1675
    params:
      params.yaml:
        SKLogisticRegression:
          max_iter: 1000
    outs:
    - path: models/SKLogisticRegression/model.joblib
      md5: 6b71e4cff64c30937592d55af7ad0ebd
      size: 107131
    - path: models/SKLogisticRegression/train_metrics.json
      md5: 69ec6b95041d7f5a64365ae4d0edbcb4
      size: 32
  test@0:
    cmd: python src/test.py --model-class=SKLogisticRegression --preprocessor=SKCountVectorizer
    deps:
    - path: models/SKLogisticRegression/model.joblib
      md5: 6b71e4cff64c30937592d55af7ad0ebd
      size: 107131
    - path: src/test.py
      md5: 81d80468146feef6a0031e7b5e500ea8
      size: 2175
    outs:
    - path: models/SKLogisticRegression/test_metrics.json
      md5: dac4213d4cb35b21ff504d053255775c
      size: 32
    - path: models/SKLogisticRegression/test_predictions.csv
      md5: 285286550a0daad274d915bfebad5482
      size: 32690
  predict@0:
    cmd: python src/predict.py --model-class=SKLogisticRegression
    deps:
    - path: data/raw/test.csv
      md5: ff248529f207ea164d73636e5b1b251d
      size: 420783
    - path: models/SKLogisticRegression/model.joblib
      md5: 6b71e4cff64c30937592d55af7ad0ebd
      size: 107131
    - path: models/SKLogisticRegression/test_metrics.json
      md5: dac4213d4cb35b21ff504d053255775c
      size: 32
    - path: src/predict.py
      md5: dcd79102586cf025166345b58fe5e825
      size: 605
    outs:
    - path: data/predictions/SKLogisticRegression_prediction.csv
      md5: d41d8cd98f00b204e9800998ecf8427e
      size: 0
  train@1:
    cmd: python src/train.py --model-class=TFConv1D --preprocessor=TFTokenizer
    deps:
    - path: data/prepared/TFTokenizer/labels.json
      md5: 76e06f8528ff37525b0f13d4dc8d6d0e
      size: 22860
    - path: data/prepared/TFTokenizer/preproc.joblib
      md5: ad3aa645110b1799b9402c1895a092eb
      size: 529836
    - path: data/prepared/TFTokenizer/texts.json
      md5: 1586b0b6d61168464daaee5cfded5390
      size: 538737
    - path: src/dataset.py
      md5: ec07c88410f06d9854f74744b77490be
      size: 2511
    - path: src/models/TFConv1D.py
      md5: e2c6d67b6bf4de891dc1243fb88d7a13
      size: 2816
    - path: src/models/abstract.py
      md5: 3d20ff5e49da1beed2359a868d5cb97f
      size: 1327
    - path: src/train.py
      md5: 0e32c00d43e76b1b2892253e458a9c53
      size: 1675
    params:
      params.yaml:
        TFConv1D:
          lr: 0.001
          batch_size: 16
          epochs: 2
    outs:
    - path: models/TFConv1D/model.h5
      md5: 1554b320b90da8470e3339cd785e8034
      size: 5555144
    - path: models/TFConv1D/train_metrics.json
      md5: 5923d8700526282d28be29655d7fcd01
      size: 32
  test@1:
    cmd: python src/test.py --model-class=TFConv1D --preprocessor=TFTokenizer
    deps:
    - path: models/TFConv1D/model.h5
      md5: 1554b320b90da8470e3339cd785e8034
      size: 5555144
    - path: src/test.py
      md5: 81d80468146feef6a0031e7b5e500ea8
      size: 2175
    outs:
    - path: models/TFConv1D/test_metrics.json
      md5: 0997ff1e4052e30ae9b75a9cc5ccab92
      size: 22
    - path: models/TFConv1D/test_predictions.csv
      md5: 0632762e3599e3d9e0707b64abbc74f5
      size: 19499
  predict@1:
    cmd: python src/predict.py --model-class=TFConv1D
    deps:
    - path: data/raw/test.csv
      md5: ff248529f207ea164d73636e5b1b251d
      size: 420783
    - path: models/TFConv1D/model.h5
      md5: 1554b320b90da8470e3339cd785e8034
      size: 5555144
    - path: models/TFConv1D/test_metrics.json
      md5: 0997ff1e4052e30ae9b75a9cc5ccab92
      size: 22
    - path: src/predict.py
      md5: dcd79102586cf025166345b58fe5e825
      size: 605
    outs:
    - path: data/predictions/TFConv1D_prediction.csv
      md5: d41d8cd98f00b204e9800998ecf8427e
      size: 0
  train@2:
    cmd: python src/train.py --model-class=TFlstm --preprocessor=GloVeVectorizer
    deps:
    - path: data/prepared/GloVeVectorizer/labels.json
      md5: 76e06f8528ff37525b0f13d4dc8d6d0e
      size: 22860
    - path: data/prepared/GloVeVectorizer/preproc.joblib
      md5: 400429f995d84256764fc9e5b17bd7d5
      size: 529836
    - path: data/prepared/GloVeVectorizer/texts.json
      md5: 1586b0b6d61168464daaee5cfded5390
      size: 538737
    - path: src/dataset.py
      md5: ec07c88410f06d9854f74744b77490be
      size: 2511
    - path: src/models/TFlstm.py
      md5: 595aa29d221efc741a2877ab609ed99d
      size: 3005
    - path: src/models/abstract.py
      md5: 3d20ff5e49da1beed2359a868d5cb97f
      size: 1327
    - path: src/train.py
      md5: 0e32c00d43e76b1b2892253e458a9c53
      size: 1675
    params:
      params.yaml:
        TFlstm:
          lr: 0.001
          batch_size: 16
          epochs: 2
    outs:
    - path: models/TFlstm/model.h5
      md5: e3cae69b7b5e971402ff7edc8d74bf0e
      size: 12336432
    - path: models/TFlstm/train_metrics.json
      md5: 67ed13c53d3ebceda44c04e90e82c92a
      size: 32
  test@2:
    cmd: python src/test.py --model-class=TFlstm --preprocessor=GloVeVectorizer
    deps:
    - path: models/TFlstm/model.h5
      md5: e3cae69b7b5e971402ff7edc8d74bf0e
      size: 12336432
    - path: src/test.py
      md5: 81d80468146feef6a0031e7b5e500ea8
      size: 2175
    outs:
    - path: models/TFlstm/test_metrics.json
      md5: 60013ebc2edf3582a6d050e91fbeeb03
      size: 32
    - path: models/TFlstm/test_predictions.csv
      md5: 5df8995a7a21167248ce33c6685b6b51
      size: 19184
  predict@2:
    cmd: python src/predict.py --model-class=TFlstm
    deps:
    - path: data/raw/test.csv
      md5: ff248529f207ea164d73636e5b1b251d
      size: 420783
    - path: models/TFlstm/model.h5
      md5: e3cae69b7b5e971402ff7edc8d74bf0e
      size: 12336432
    - path: models/TFlstm/test_metrics.json
      md5: 60013ebc2edf3582a6d050e91fbeeb03
      size: 32
    - path: src/predict.py
      md5: dcd79102586cf025166345b58fe5e825
      size: 605
    outs:
    - path: data/predictions/TFlstm_prediction.csv
      md5: d41d8cd98f00b204e9800998ecf8427e
      size: 0
  compare:
    cmd: python src/compare.py
    deps:
    - path: models
      md5: f442a01ff3ed15d586e86854fc8d2e51.dir
      size: 564156807
      nfiles: 432
    - path: src/compare.py
      md5: 075ea72299e817388fdc8459092294f3
      size: 977
    outs:
    - path: roc_curves.png
      md5: de8fa1f1dce34d057871432bce6cf025
      size: 38319
  train@3:
    cmd: python src/train.py --model-class=TFDense --preprocessor=SKTfidfVectorizer
    deps:
    - path: data/prepared/SKTfidfVectorizer/labels.json
      md5: 76e06f8528ff37525b0f13d4dc8d6d0e
      size: 22860
    - path: data/prepared/SKTfidfVectorizer/preproc.joblib
      md5: 2aa837c9b7dd61ce9b08f3613f22807a
      size: 385765
    - path: data/prepared/SKTfidfVectorizer/texts.json
      md5: 1586b0b6d61168464daaee5cfded5390
      size: 538737
    - path: src/dataset.py
      md5: ec07c88410f06d9854f74744b77490be
      size: 2511
    - path: src/models/TFDense.py
      md5: e85a47a7ea2fda4c8bd610cede765f3f
      size: 2387
    - path: src/models/abstract.py
      md5: 3d20ff5e49da1beed2359a868d5cb97f
      size: 1327
    - path: src/train.py
      md5: 0e32c00d43e76b1b2892253e458a9c53
      size: 1675
    params:
      params.yaml:
        TFDense:
          lr: 0.001
          batch_size: 8
          epochs: 2
    outs:
    - path: models/TFDense/model.h5
      md5: ee3d463723b59d366259c00618b22b7c
      size: 10293648
    - path: models/TFDense/train_metrics.json
      md5: d4c047957c3615a223aec1590bc49de2
      size: 32
  test@3:
    cmd: python src/test.py --model-class=TFDense --preprocessor=SKTfidfVectorizer
    deps:
    - path: models/TFDense/model.h5
      md5: ee3d463723b59d366259c00618b22b7c
      size: 10293648
    - path: src/test.py
      md5: 81d80468146feef6a0031e7b5e500ea8
      size: 2175
    outs:
    - path: models/TFDense/test_metrics.json
      md5: 3b88401d58942471b59d87ffa51e5621
      size: 32
    - path: models/TFDense/test_predictions.csv
      md5: 5b72faf92ed5c6b3add64de7d5447e2a
      size: 19561
  predict@3:
    cmd: python src/predict.py --model-class=TFDense
    deps:
    - path: data/raw/test.csv
      md5: ff248529f207ea164d73636e5b1b251d
      size: 420783
    - path: models/TFDense/model.h5
      md5: ee3d463723b59d366259c00618b22b7c
      size: 10293648
    - path: models/TFDense/test_metrics.json
      md5: 3b88401d58942471b59d87ffa51e5621
      size: 32
    - path: src/predict.py
      md5: dcd79102586cf025166345b58fe5e825
      size: 605
    outs:
    - path: data/predictions/TFDense_prediction.csv
      md5: d41d8cd98f00b204e9800998ecf8427e
      size: 0
