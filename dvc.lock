schema: '2.0'
stages:
  train@0:
    cmd: python src/train.py --model-class=SKLogisticRegression --preprocessor=SKCountVectorizer
    deps:
    - path: data/prepared/SKCountVectorizer/labels.json
      md5: 76e06f8528ff37525b0f13d4dc8d6d0e
      size: 22860
    - path: data/prepared/SKCountVectorizer/preproc.joblib
      md5: af69aa9d054128f50599d104c75be585
      size: 172553
    - path: data/prepared/SKCountVectorizer/texts.json
      md5: 1586b0b6d61168464daaee5cfded5390
      size: 538737
    - path: src/dataset.py
      md5: ec07c88410f06d9854f74744b77490be
      size: 2511
    - path: src/models/SKLogisticRegression.py
      md5: 3c2f8b80c1cd29c01a6edeb533a93525
      size: 1181
    - path: src/models/abstract.py
      md5: c1f903ca5687282956c8e7a9600b0349
      size: 1012
    - path: src/train.py
      md5: 045d4c029d40a8ffa575b16f2f373fb0
      size: 2089
    params:
      params.yaml:
        SKLogisticRegression:
          max_iter: 1000
    outs:
    - path: models/SKLogisticRegression/model.joblib
      md5: 6b71e4cff64c30937592d55af7ad0ebd
      size: 107131
    - path: models/SKLogisticRegression/train_metrics.json
      md5: 69ec6b95041d7f5a64365ae4d0edbcb4
      size: 32
  test@0:
    cmd: python src/test.py --model-class=SKLogisticRegression --preprocessor=SKCountVectorizer
    deps:
    - path: models/SKLogisticRegression/model.joblib
      md5: 6b71e4cff64c30937592d55af7ad0ebd
      size: 107131
    - path: src/test.py
      md5: 5b01ecf78c1c8ee026cb9ddae66fcb71
      size: 1712
    outs:
    - path: models/SKLogisticRegression/test_metrics.json
      md5: dac4213d4cb35b21ff504d053255775c
      size: 32
    - path: models/SKLogisticRegression/test_predictions.csv
      md5: 285286550a0daad274d915bfebad5482
      size: 32690
  predict@0:
    cmd: python src/predict.py --model-class=SKLogisticRegression
    deps:
    - path: data/raw/test.csv
      md5: ff248529f207ea164d73636e5b1b251d
      size: 420783
    - path: models/SKLogisticRegression/model.joblib
      md5: 6b71e4cff64c30937592d55af7ad0ebd
      size: 107131
    - path: models/SKLogisticRegression/test_metrics.json
      md5: dac4213d4cb35b21ff504d053255775c
      size: 32
    - path: src/predict.py
      md5: dcd79102586cf025166345b58fe5e825
      size: 605
    outs:
    - path: data/predictions/SKLogisticRegression_prediction.csv
      md5: d41d8cd98f00b204e9800998ecf8427e
      size: 0
  train@1:
    cmd: python src/train.py --model-class=TFConv1D --preprocessor=TFTokenizer
    deps:
    - path: data/prepared/TFTokenizer/labels.json
      md5: 76e06f8528ff37525b0f13d4dc8d6d0e
      size: 22860
    - path: data/prepared/TFTokenizer/preproc.joblib
      md5: a58377f9a2b9fec3dcea57d5c7d73a4b
      size: 529836
    - path: data/prepared/TFTokenizer/texts.json
      md5: 1586b0b6d61168464daaee5cfded5390
      size: 538737
    - path: src/dataset.py
      md5: ec07c88410f06d9854f74744b77490be
      size: 2511
    - path: src/models/TFConv1D.py
      md5: b32a8e19a682bf9705b6231d7f1f1f62
      size: 2443
    - path: src/models/abstract.py
      md5: c1f903ca5687282956c8e7a9600b0349
      size: 1012
    - path: src/train.py
      md5: 045d4c029d40a8ffa575b16f2f373fb0
      size: 2089
    params:
      params.yaml:
        TFConv1D:
          lr: 0.001
          batch_size: 16
          epochs: 20
    outs:
    - path: models/TFConv1D/model.h5
      md5: 191758f873e676abf8108c93dd6b99d0
      size: 5555144
    - path: models/TFConv1D/train_metrics.json
      md5: f454603005a26bb9c556f6512f88b461
      size: 32
  test@1:
    cmd: python src/test.py --model-class=TFConv1D --preprocessor=TFTokenizer
    deps:
    - path: models/TFConv1D/model.h5
      md5: 191758f873e676abf8108c93dd6b99d0
      size: 5555144
    - path: src/test.py
      md5: 5b01ecf78c1c8ee026cb9ddae66fcb71
      size: 1712
    outs:
    - path: models/TFConv1D/test_metrics.json
      md5: 524ec35c013ad49a64d85fcb857951d8
      size: 32
    - path: models/TFConv1D/test_predictions.csv
      md5: ab7aeed8342e727fdcb2fb8f473ba351
      size: 19259
  predict@1:
    cmd: python src/predict.py --model-class=TFConv1D
    deps:
    - path: data/raw/test.csv
      md5: ff248529f207ea164d73636e5b1b251d
      size: 420783
    - path: models/TFConv1D/model.h5
      md5: 191758f873e676abf8108c93dd6b99d0
      size: 5555144
    - path: models/TFConv1D/test_metrics.json
      md5: 524ec35c013ad49a64d85fcb857951d8
      size: 32
    - path: src/predict.py
      md5: dcd79102586cf025166345b58fe5e825
      size: 605
    outs:
    - path: data/predictions/TFConv1D_prediction.csv
      md5: d41d8cd98f00b204e9800998ecf8427e
      size: 0
  train@2:
    cmd: python src/train.py --model-class=TFlstm --preprocessor=GloVeVectorizer
    deps:
    - path: data/prepared/GloVeVectorizer/labels.json
      md5: 76e06f8528ff37525b0f13d4dc8d6d0e
      size: 22860
    - path: data/prepared/GloVeVectorizer/preproc.joblib
      md5: 3aed4f7b2cc94031768372aeaccd3d81
      size: 529836
    - path: data/prepared/GloVeVectorizer/texts.json
      md5: 1586b0b6d61168464daaee5cfded5390
      size: 538737
    - path: src/dataset.py
      md5: ec07c88410f06d9854f74744b77490be
      size: 2511
    - path: src/models/TFlstm.py
      md5: 56f787b70704da453ef0edb59ccd73a5
      size: 2732
    - path: src/models/abstract.py
      md5: c1f903ca5687282956c8e7a9600b0349
      size: 1012
    - path: src/train.py
      md5: 045d4c029d40a8ffa575b16f2f373fb0
      size: 2089
    params:
      params.yaml:
        TFlstm:
          lr: 0.0001
          batch_size: 128
          epochs: 200
    outs:
    - path: models/TFlstm/model.h5
      md5: ec26854f0e815b0a6f1a73705372c2d7
      size: 8349576
    - path: models/TFlstm/train_metrics.json
      md5: 99c6c1d3b2a33599ae1ee42b020c5f1b
      size: 32
  test@2:
    cmd: python src/test.py --model-class=TFlstm --preprocessor=GloVeVectorizer
    deps:
    - path: models/TFlstm/model.h5
      md5: ec26854f0e815b0a6f1a73705372c2d7
      size: 8349576
    - path: src/test.py
      md5: 5b01ecf78c1c8ee026cb9ddae66fcb71
      size: 1712
    outs:
    - path: models/TFlstm/test_metrics.json
      md5: a6b0e4636db9f2a887cfaaa9a32407db
      size: 32
    - path: models/TFlstm/test_predictions.csv
      md5: 513bae391d94b21d38365e6147a44ce9
      size: 19281
  predict@2:
    cmd: python src/predict.py --model-class=TFlstm
    deps:
    - path: data/raw/test.csv
      md5: ff248529f207ea164d73636e5b1b251d
      size: 420783
    - path: models/TFlstm/model.h5
      md5: ec26854f0e815b0a6f1a73705372c2d7
      size: 8349576
    - path: models/TFlstm/test_metrics.json
      md5: a6b0e4636db9f2a887cfaaa9a32407db
      size: 32
    - path: src/predict.py
      md5: dcd79102586cf025166345b58fe5e825
      size: 605
    outs:
    - path: data/predictions/TFlstm_prediction.csv
      md5: d41d8cd98f00b204e9800998ecf8427e
      size: 0
  compare:
    cmd: python src/compare.py
    deps:
    - path: models
      md5: d642396668bb0a3b0854df75bfbc5cf2.dir
      size: 78463780
      nfiles: 171
    - path: src/compare.py
      md5: 50f0a89d5a38510ace57c38c1e6ac2d7
      size: 1030
    outs:
    - path: roc_curves.png
      md5: 9c49264ceab9ba4d0bc65c3e87e30499
      size: 39355
  train@3:
    cmd: python src/train.py --model-class=TFDense --preprocessor=SKTfidfVectorizer
    deps:
    - path: data/prepared/SKTfidfVectorizer/labels.json
      md5: 76e06f8528ff37525b0f13d4dc8d6d0e
      size: 22860
    - path: data/prepared/SKTfidfVectorizer/preproc.joblib
      md5: 2aa837c9b7dd61ce9b08f3613f22807a
      size: 385765
    - path: data/prepared/SKTfidfVectorizer/texts.json
      md5: 1586b0b6d61168464daaee5cfded5390
      size: 538737
    - path: src/dataset.py
      md5: ec07c88410f06d9854f74744b77490be
      size: 2511
    - path: src/models/TFDense.py
      md5: 29ae48fc30d3e3e6cec2e2b10e3f53c9
      size: 2014
    - path: src/models/abstract.py
      md5: c1f903ca5687282956c8e7a9600b0349
      size: 1012
    - path: src/train.py
      md5: 045d4c029d40a8ffa575b16f2f373fb0
      size: 2089
    params:
      params.yaml:
        TFDense:
          lr: 0.001
          batch_size: 8
          epochs: 20
    outs:
    - path: models/TFDense/model.h5
      md5: 3b2063391ddf915e90c33c547dee4388
      size: 10293648
    - path: models/TFDense/train_metrics.json
      md5: f981467d112b0a55cf4be242e3739369
      size: 32
  test@3:
    cmd: python src/test.py --model-class=TFDense --preprocessor=SKTfidfVectorizer
    deps:
    - path: models/TFDense/model.h5
      md5: 3b2063391ddf915e90c33c547dee4388
      size: 10293648
    - path: src/test.py
      md5: 5b01ecf78c1c8ee026cb9ddae66fcb71
      size: 1712
    outs:
    - path: models/TFDense/test_metrics.json
      md5: 1843fd3bf9e8214ea2d4e24f45de2c08
      size: 32
    - path: models/TFDense/test_predictions.csv
      md5: ce1f87466304d63cedea839e34d05c5d
      size: 19634
  predict@3:
    cmd: python src/predict.py --model-class=TFDense
    deps:
    - path: data/raw/test.csv
      md5: ff248529f207ea164d73636e5b1b251d
      size: 420783
    - path: models/TFDense/model.h5
      md5: 3b2063391ddf915e90c33c547dee4388
      size: 10293648
    - path: models/TFDense/test_metrics.json
      md5: 1843fd3bf9e8214ea2d4e24f45de2c08
      size: 32
    - path: src/predict.py
      md5: dcd79102586cf025166345b58fe5e825
      size: 605
    outs:
    - path: data/predictions/TFDense_prediction.csv
      md5: d41d8cd98f00b204e9800998ecf8427e
      size: 0
