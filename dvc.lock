schema: '2.0'
stages:
  train@0:
    cmd: python src/train.py --model-class=SKLogisticRegression --preprocessor=SKCountVectorizer
    deps:
    - path: data/prepared/SKCountVectorizer/labels.json
      md5: 76e06f8528ff37525b0f13d4dc8d6d0e
      size: 22860
    - path: data/prepared/SKCountVectorizer/preproc.joblib
      md5: 128785b6f58b7fea471ef57891d604e8
      size: 172553
    - path: data/prepared/SKCountVectorizer/texts.json
      md5: 1586b0b6d61168464daaee5cfded5390
      size: 538737
    - path: src/dataset.py
      md5: ec07c88410f06d9854f74744b77490be
      size: 2511
    - path: src/models/SKLogisticRegression.py
      md5: e8416f86d344e3c0fcdbc891e968ecaa
      size: 1466
    - path: src/models/abstract.py
      md5: 793da9d593bfb04d5f887093adf64744
      size: 3702
    - path: src/train.py
      md5: ecc7955c2d8f9bde20c036fd2f64b576
      size: 1679
    params:
      params.yaml:
        SKLogisticRegression:
          max_iter: 100
    outs:
    - path: models/SKLogisticRegression/model.joblib
      md5: 6b71e4cff64c30937592d55af7ad0ebd
      size: 107131
    - path: models/SKLogisticRegression/train_metrics.json
      md5: 69ec6b95041d7f5a64365ae4d0edbcb4
      size: 32
  test@0:
    cmd: python src/test.py --model-class=SKLogisticRegression --preprocessor=SKCountVectorizer
    deps:
    - path: models/SKLogisticRegression/model.joblib
      md5: 6b71e4cff64c30937592d55af7ad0ebd
      size: 107131
    - path: src/test.py
      md5: 340f8ebe4a311c358032933e08cea55f
      size: 2185
    outs:
    - path: models/SKLogisticRegression/test_metrics.json
      md5: dac4213d4cb35b21ff504d053255775c
      size: 32
    - path: models/SKLogisticRegression/test_predictions.csv
      md5: 285286550a0daad274d915bfebad5482
      size: 32690
  predict@0:
    cmd: python src/predict.py --model-class=SKLogisticRegression
    deps:
    - path: data/raw/test.csv
      md5: ff248529f207ea164d73636e5b1b251d
      size: 420783
    - path: models/SKLogisticRegression/model.joblib
      md5: 6b71e4cff64c30937592d55af7ad0ebd
      size: 107131
    - path: models/SKLogisticRegression/test_metrics.json
      md5: dac4213d4cb35b21ff504d053255775c
      size: 32
    - path: src/predict.py
      md5: dcd79102586cf025166345b58fe5e825
      size: 605
    outs:
    - path: data/predictions/SKLogisticRegression_prediction.csv
      md5: d41d8cd98f00b204e9800998ecf8427e
      size: 0
  train@1:
    cmd: python src/train.py --model-class=TFConv1D --preprocessor=TFTokenizer
    deps:
    - path: data/prepared/TFTokenizer/labels.json
      md5: 76e06f8528ff37525b0f13d4dc8d6d0e
      size: 22860
    - path: data/prepared/TFTokenizer/preproc.joblib
      md5: eaed55c140f36d051d136e7160087cdb
      size: 529836
    - path: data/prepared/TFTokenizer/texts.json
      md5: 1586b0b6d61168464daaee5cfded5390
      size: 538737
    - path: src/dataset.py
      md5: ec07c88410f06d9854f74744b77490be
      size: 2511
    - path: src/models/TFConv1D.py
      md5: 845d5ef5811aebcec22c1b9f7a4b8792
      size: 1253
    - path: src/models/abstract.py
      md5: 793da9d593bfb04d5f887093adf64744
      size: 3702
    - path: src/train.py
      md5: ecc7955c2d8f9bde20c036fd2f64b576
      size: 1679
    params:
      params.yaml:
        TFConv1D:
          lr: 0.0001
          batch_size: 16
          epochs: 60
    outs:
    - path: models/TFConv1D/model.h5
      md5: 9a9145a720c4f09a029adea47f9ef2b1
      size: 10689984
    - path: models/TFConv1D/train_metrics.json
      md5: cb134861466e71f98d284bdb97dade7e
      size: 32
  test@1:
    cmd: python src/test.py --model-class=TFConv1D --preprocessor=TFTokenizer
    deps:
    - path: models/TFConv1D/model.h5
      md5: 9a9145a720c4f09a029adea47f9ef2b1
      size: 10689984
    - path: src/test.py
      md5: 340f8ebe4a311c358032933e08cea55f
      size: 2185
    outs:
    - path: models/TFConv1D/test_metrics.json
      md5: 9913e53c1fa93877818a780e146d0ff3
      size: 32
    - path: models/TFConv1D/test_predictions.csv
      md5: b0c0056e9618661f4d8dd77054394d03
      size: 19941
  predict@1:
    cmd: python src/predict.py --model-class=TFConv1D
    deps:
    - path: data/raw/test.csv
      md5: ff248529f207ea164d73636e5b1b251d
      size: 420783
    - path: models/TFConv1D/model.h5
      md5: 9a9145a720c4f09a029adea47f9ef2b1
      size: 10689984
    - path: models/TFConv1D/test_metrics.json
      md5: 9913e53c1fa93877818a780e146d0ff3
      size: 32
    - path: src/predict.py
      md5: dcd79102586cf025166345b58fe5e825
      size: 605
    outs:
    - path: data/predictions/TFConv1D_prediction.csv
      md5: d41d8cd98f00b204e9800998ecf8427e
      size: 0
  train@2:
    cmd: python src/train.py --model-class=TFlstm --preprocessor=GloVeVectorizer
    deps:
    - path: data/prepared/GloVeVectorizer/labels.json
      md5: 76e06f8528ff37525b0f13d4dc8d6d0e
      size: 22860
    - path: data/prepared/GloVeVectorizer/preproc.joblib
      md5: 8494333a130b4301230836ab41bc5890
      size: 529836
    - path: data/prepared/GloVeVectorizer/texts.json
      md5: 1586b0b6d61168464daaee5cfded5390
      size: 538737
    - path: src/dataset.py
      md5: ec07c88410f06d9854f74744b77490be
      size: 2511
    - path: src/models/TFlstm.py
      md5: 64d794ba43bf65ba99eb6dd1cfc8d5a2
      size: 1755
    - path: src/models/abstract.py
      md5: 793da9d593bfb04d5f887093adf64744
      size: 3702
    - path: src/train.py
      md5: ecc7955c2d8f9bde20c036fd2f64b576
      size: 1679
    params:
      params.yaml:
        TFlstm:
          lr: 0.0001
          batch_size: 16
          epochs: 60
    outs:
    - path: models/TFlstm/model.h5
      md5: 86b6af84c86c5e78c610a6201c7b2f83
      size: 58546336
    - path: models/TFlstm/train_metrics.json
      md5: 805ca8e3be0a04c4ae31065073f2eaff
      size: 32
  test@2:
    cmd: python src/test.py --model-class=TFlstm --preprocessor=GloVeVectorizer
    deps:
    - path: models/TFlstm/model.h5
      md5: 86b6af84c86c5e78c610a6201c7b2f83
      size: 58546336
    - path: src/test.py
      md5: 340f8ebe4a311c358032933e08cea55f
      size: 2185
    outs:
    - path: models/TFlstm/test_metrics.json
      md5: 7c61ecfda7718a4a9d3061f25de4da07
      size: 32
    - path: models/TFlstm/test_predictions.csv
      md5: c7984ccd998f6a9d599602dfb45c6195
      size: 19397
  predict@2:
    cmd: python src/predict.py --model-class=TFlstm
    deps:
    - path: data/raw/test.csv
      md5: ff248529f207ea164d73636e5b1b251d
      size: 420783
    - path: models/TFlstm/model.h5
      md5: 86b6af84c86c5e78c610a6201c7b2f83
      size: 58546336
    - path: models/TFlstm/test_metrics.json
      md5: 7c61ecfda7718a4a9d3061f25de4da07
      size: 32
    - path: src/predict.py
      md5: dcd79102586cf025166345b58fe5e825
      size: 605
    outs:
    - path: data/predictions/TFlstm_prediction.csv
      md5: d41d8cd98f00b204e9800998ecf8427e
      size: 0
  compare:
    cmd: python src/compare.py
    deps:
    - path: models
      md5: b4cfe502f92ce9b90c9497880f3de04c.dir
      size: 1902118740
      nfiles: 1178
    - path: src/compare.py
      md5: 075ea72299e817388fdc8459092294f3
      size: 977
    outs:
    - path: roc_curves.png
      md5: b63e9ebe2a283bd6744e8169eebe06bb
      size: 36768
  train@3:
    cmd: python src/train.py --model-class=TFDense --preprocessor=SKTfidfVectorizer
    deps:
    - path: data/prepared/SKTfidfVectorizer/labels.json
      md5: 76e06f8528ff37525b0f13d4dc8d6d0e
      size: 22860
    - path: data/prepared/SKTfidfVectorizer/preproc.joblib
      md5: 93f650a521cf9f793022742ea4ad332e
      size: 385765
    - path: data/prepared/SKTfidfVectorizer/texts.json
      md5: 1586b0b6d61168464daaee5cfded5390
      size: 538737
    - path: src/dataset.py
      md5: ec07c88410f06d9854f74744b77490be
      size: 2511
    - path: src/models/TFDense.py
      md5: df3b0540c5d62a147e01b2352edc7a2d
      size: 832
    - path: src/models/abstract.py
      md5: 793da9d593bfb04d5f887093adf64744
      size: 3702
    - path: src/train.py
      md5: ecc7955c2d8f9bde20c036fd2f64b576
      size: 1679
    params:
      params.yaml:
        TFDense:
          lr: 0.0001
          batch_size: 16
          epochs: 60
    outs:
    - path: models/TFDense/model.h5
      md5: 707e5bfc3108d9721ebf99d598074817
      size: 10293648
    - path: models/TFDense/train_metrics.json
      md5: e04282134c8026b3cc6f68774d2db114
      size: 32
  test@3:
    cmd: python src/test.py --model-class=TFDense --preprocessor=SKTfidfVectorizer
    deps:
    - path: models/TFDense/model.h5
      md5: 707e5bfc3108d9721ebf99d598074817
      size: 10293648
    - path: src/test.py
      md5: 340f8ebe4a311c358032933e08cea55f
      size: 2185
    outs:
    - path: models/TFDense/test_metrics.json
      md5: 98e03236785d0745222ef8fa792c458d
      size: 32
    - path: models/TFDense/test_predictions.csv
      md5: 22dad9f9433b677d0c02ae307d2f2d17
      size: 19618
  predict@3:
    cmd: python src/predict.py --model-class=TFDense
    deps:
    - path: data/raw/test.csv
      md5: ff248529f207ea164d73636e5b1b251d
      size: 420783
    - path: models/TFDense/model.h5
      md5: 707e5bfc3108d9721ebf99d598074817
      size: 10293648
    - path: models/TFDense/test_metrics.json
      md5: 98e03236785d0745222ef8fa792c458d
      size: 32
    - path: src/predict.py
      md5: dcd79102586cf025166345b58fe5e825
      size: 605
    outs:
    - path: data/predictions/TFDense_prediction.csv
      md5: d41d8cd98f00b204e9800998ecf8427e
      size: 0
